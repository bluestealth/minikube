From c99023d508378f9245d02335a1dd03537a7b4059 Mon Sep 17 00:00:00 2001
From: Michael Ryan Dempsey <bluestealth@bluestealth.pw>
Date: Sun, 2 Aug 2020 06:56:39 -0700
Subject: [PATCH] Parameterize strip binary in pinns/Makefile for
 cross-compilation

Signed-off-by: Michael Ryan Dempsey <bluestealth@bluestealth.pw>
---
 pinns/Makefile | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/pinns/Makefile b/pinns/Makefile
index 2ad1bc8c8..166d2a925 100644
--- a/pinns/Makefile
+++ b/pinns/Makefile
@@ -1,6 +1,7 @@
 src = $(wildcard *.c)
 obj = $(src:.c=.o)
 
+STRIP ?= strip
 override LIBS +=
 CFLAGS ?= -std=c99 -Os -Wall -Werror -Wextra
 override CFLAGS += -static
@@ -9,7 +10,7 @@ all: ../bin/pinns
 
 ../bin/pinns: $(obj) | ../bin
 	$(CC) -o $@ $^ $(CFLAGS) $(LIBS)
-	strip -s $@
+	$(STRIP) -s $@
 
 ../bin:
 	mkdir -p $@
-- 
2.26.2

